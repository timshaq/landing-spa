"use strict";document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("header"),n=window.scrollY;100<=n&&t.classList.add("fix"),n<100&&t.classList.remove("fix"),window.addEventListener("scroll",function(e){100<=(n=window.scrollY)&&t.classList.add("active"),n<100&&t.classList.remove("active")});for(var e=$(".prodslider").find(".prodslider__slider"),i=0;i<=e.length;i++)$(e[i]).slick({infinite:!1,slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,responsive:[{breakpoint:1025,settings:{slidesToShow:2,arrows:!1,dots:!0}},{breakpoint:993,settings:{slidesToShow:1,arrows:!1,dots:!0}}]}).on("setPosition",function(e,t){t.$slides.css("height",t.$slideTrack.height()+"px")});$(".brands__slider").slick({infinite:!1,slidesToShow:4,slidesToScroll:1,swipeToSlide:!0,responsive:[{breakpoint:1025,settings:{slidesToShow:2,arrows:!1,dots:!0}},{breakpoint:993,settings:{slidesToShow:1,arrows:!1,dots:!0}}]}),$(".reviews__slider").slick({infinite:!1,slidesToShow:4,slidesToScroll:1,arrows:!1,swipeToSlide:!0,responsive:[{breakpoint:1441,settings:{slidesToShow:3}},{breakpoint:1201,settings:{slidesToShow:2}},{breakpoint:993,settings:{slidesToShow:1}}]});var o=document.getElementById("html"),s=document.getElementById("burger"),c=document.getElementById("closeNav"),l=document.getElementById("mobNav");function r(){o.style.overflowX="hidden",o.style.overflowY="hidden"}function d(){o.style.overflowX="hidden",o.style.overflowY="scroll"}function a(){l.classList.remove("active"),d()}s.addEventListener("click",function(){l.classList.add("active"),r()}),c.addEventListener("click",function(){a()});s=document.querySelectorAll(".header__navlink");Array.prototype.slice.call(s).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),a()})});var u=document.getElementById("prodCard"),c=document.getElementById("closeProdCard"),s=document.querySelectorAll(".prodslider__slider-btn");Array.prototype.slice.call(s).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),u.classList.add("active"),r()})}),c.addEventListener("click",function(e){e.preventDefault(),u.classList.remove("active"),d()});var c=document.querySelectorAll("a"),c=Array.prototype.slice.call(c),f=[];c.forEach(function(e){var t=e.getAttribute("href");/^#/.exec(t)&&f.push(e)}),f.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e).getBoundingClientRect().top-100;window.scrollBy({top:e,behavior:"smooth"})})});var m=document.getElementById("sentprodLoad"),p=m.innerText,g=!1;m.addEventListener("click",function(){var e;g?(g=!1,e=document.querySelectorAll(".sentprod__map-item.hidden"),Array.prototype.slice.call(e).forEach(function(e,t){e.classList.remove("active"),e.classList.remove("visible")}),m.innerText=p):(g=!0,e=document.querySelectorAll(".sentprod__map-item.hidden"),Array.prototype.slice.call(e).forEach(function(e,t){e.classList.add("visible"),setTimeout(function(){e.classList.add("active")},100*t)}),m.innerText="Скрыть список")}),document.addEventListener("click",function(e){var t=document.querySelector("#map iframe");"map"===e.target.id?t.classList.add("active"):t.classList.remove("active")});var v=!1;function w(){v=!0,setTimeout(function(){v=!1},9e3);var i=document.getElementById("circleNum"),o=i.style.top,s=i.style.left,e=document.getElementById("circleNum1"),t=document.getElementById("circleNum12"),n=(document.getElementById("circleNum2"),document.getElementById("circleNum22")),c=(document.getElementById("circleNum3"),document.getElementById("circleNum32"));i.getBoundingClientRect(),e.getBoundingClientRect();new Promise(function(e){!function(){i.classList.add("active");var e=$("#circleNum1").offset();$("#circleNum").css("left","".concat(e.left,"px"))}(),setTimeout(function(){e()},1e3)}).then(function(){$("#circleNum").offset($("#circleNum3").offset()),function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(t===l.length)return i.style.transition="all linear 1s",i.classList.remove("active"),i.style.left=s,i.style.top=o,void(l[t-1].style.clip="rect(0px, 150px, 0px, 0px)");0!=t&&(l[t-1].style.clip="rect(0px, 150px, 0px, 0px)");var n=l[t];n.classList.add("active");n.style.clip="rect(0px, 150px, 300px, 0px)";setTimeout(function(){n.classList.remove("active"),e(++t)},r[t])}()});var l=[t,n,c],r=[2500,3e3,1600]}function h(e,t){var n,i=1<arguments.length&&void 0!==t?t:i,o=window.pageYOffset+e.getBoundingClientRect().top,t=(window.pageXOffset,e.getBoundingClientRect().left,window.pageXOffset,e.getBoundingClientRect().right,window.pageYOffset+e.getBoundingClientRect().bottom),s=window.pageYOffset,i=(window.pageXOffset,window.pageXOffset,document.documentElement.clientWidth,window.pageYOffset+document.documentElement.clientHeight);function c(e){n.getBoundingClientRect().left,n.getBoundingClientRect().width;if(window.innerWidth,!(window.innerWidth<600)){switch(e=100*Math.round(e/100)){case 0:case 100:case 200:case 300:n.style.transform="scale(1)";break;case 400:n.style.transform="scale(2)";break;case 500:n.style.transform="scale(3)";break;case 600:n.style.transform="scale(4)";break;case 700:n.style.transform="scale(5)";break;case 800:n.style.transform="scale(6)";break;case 900:default:n.style.transform="scale(7)"}}}e.offsetHeight,s<t&&o<i&&(n=document.getElementById("bgAnim"),document.getElementById("textClipColor"),c(o<s?s-o:o-s))}function y(e){var t=window.pageYOffset+e.getBoundingClientRect().top,n=window.pageYOffset+e.getBoundingClientRect().bottom,i=window.pageYOffset,o=window.pageYOffset+document.documentElement.clientHeight;e.offsetHeight,i<n&&t<o&&1024<window.innerWidth&&!v&&w()}var E=document.getElementById("case"),B=document.getElementById("faq");window.addEventListener("scroll",function(){h(E),y(B)}),h(E),y(B),$("#promodalGallery").fotorama({width:"100%",maxwidth:"100%",ratio:16/9,allowfullscreen:!0,nav:"thumbs",thumbmargin:20,swipe:!0});c=document.querySelectorAll(".same__form");Array.prototype.slice.call(c).forEach(function(e){$(e).on("submit",function(e){e.preventDefault();e=$(this).serialize();console.log(e),fetch("./send.php",{method:"POST",body:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).catch(function(e){alert("Отправка не удалась"),console.log(e)}).then(function(e){console.log(e),alert("Заявка отправлена")})})})});